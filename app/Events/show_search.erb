<!-- 
#################################################################################
# Â© 2010 SunGard Higher Education.  All Rights Reserved.
#
# CONFIDENTIAL BUSINESS INFORMATION
#
# THIS PROGRAM IS PROPRIETARY INFORMATION OF SUNGARD HIGHER EDUCATION
# AND IS NOT TO BE COPIED, REPRODUCED, LENT, OR DISPOSED OF,
# NOR USED FOR ANY PURPOSE OTHER THAN THAT WHICH IT IS SPECIFICALLY PROVIDED
# WITHOUT THE WRITTEN PERMISSION OF THE SAID COMPANY -->

<div data-role="page" id="events-show-search-page">
    <div data-role="header" data-position="fixed" data-theme="f" class="imageButtons">
        <a href="<%= url_for( :action => :index ) %>" data-direction="reverse"><img data-icon="back" src="<%= Mshell.path %>/images/blank.gif"/></a>
        <h1><%= Locale::Events[:title_event_search] %></h1>
        <img data-icon="menu" src="<%= Mshell.path %>/images/blank.gif" class="menu-link">
    </div><!-- /header -->

	<div data-role="content" data-theme="g">
	    <!-- Menu -->
	    <div class="menu-tab"><img data-icon="menu" src="<%= Mshell.path %>/images/blank.gif"></div>
		<div class="menu">	
			<ul>
        		<li><a href="<%= Mshell.show_url %>" data-direction="reverse" class="home"><%= Locale::Mc[:label_home] %></a></li>
			</ul>
			<br class="clear"/>
		</div><!-- /Menu -->

		<div class="listContainer form">
		<form id="events-search-form" action="#" method="get" data-ajax="false"> 
			<div class="listContainerInner">				
				<!--<div class="textInput"><input type="text" class="textInputPlain"></div>-->
				
				<ul data-role="listview">
					<li data-role="fieldcontain">
						<input type="text" name="search" id="keywords" placeholder="<%= Locale::Events[:label_search_title_description] %>" class="textInput">
					</li>
					<li data-role="fieldcontain">
						<label for="calendars"><%= Locale::Events[:label_calendars] %></label>
						<select name="calendars" id="calendars" multiple="multiple" data-native-menu="false">
							<option><%= Locale::Events[:label_calendars] %></option>
							<% 
								calendarList = get_calendar_list()
								if calendarList && calendarList.length > 0
								 calendarList.each do |calendar|
							%>
								<option value="<%=calendar['id']%>"><%=calendar['name']%></option>																
							<% end 
							end 
							%>								
						</select>
					</li>
					<li data-role="fieldcontain">
					    <% date_box_options = '{"mode": "calbox", "dateFormat": "YYYY-MM-DD", "useDialogForceFalse": true, "noButtonFocusMode": "true", "theme":"i", "pickPageButtonTheme":"i", "pickPageHighButtonTheme":"g", "pickPageTodayButtonTheme":"f"}'%>
						<label for="startDate"><%= Locale::Events[:label_start_date] %></label>
						<input name="startDate" type="date" data-role="datebox" id="startDate" data-options='<%= date_box_options %>' "useDialogForceFalse": true, placeholder="yyyy-mm-dd"/> 
						<label for="endDate"><%= Locale::Events[:label_end_date] %></label>
						<input name="endDate" type="date" data-role="datebox" id="endDate" data-options='<%= date_box_options %>'  placeholder="yyyy-mm-dd"/>
					</li>					
					<li data-role="fieldcontain">
						<label for="categories"><%= Locale::Events[:label_categories] %></label>
						<select name="categories" id="categories" multiple="multiple" data-native-menu="false">
							<option><%= Locale::Events[:label_categories] %></option>
							<% 
								categoryList = get_categories_list_result()
									if categoryList && categoryList.length > 0
									 categoryList.each do |category|
							%>
								<option value="<%=category['id']%>"><%=category['name']%></option>																
							<% end 
							end 
							%>				
						</select>
					</li>
					<li data-role="fieldcontain">
                        <a data-role="button" name="submit" id="search-events"><%= Locale::Events[:label_search] %></a>
                        <input data-role="none" type="submit" class="hidden-submit" value="" style="position: absolute; left: -9999px">
					</li>
				</ul>				
			</div>
			</form>
		</div>
	</div><!-- /content -->

	<div data-role="footer" data-theme="f" data-position="fixed">
	</div><!--- /footer -->
	
</div>
